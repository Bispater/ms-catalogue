# TIPOS DE CONEXIÓN
# local      = conexiones por socket Unix
# host       = conexiones TCP/IP con o sin SSL
# hostssl    = conexiones TCP/IP solo con SSL
# hostnossl  = conexiones TCP/IP sin SSL

# MÉTODOS DE AUTENTICACIÓN
# trust     = sin contraseña
# md5      = contraseña cifrada con md5
# password  = contraseña en texto plano (no recomendado)
# scram-sha-256 = autenticación segura (recomendado para PostgreSQL 10+)

# Conexiones locales
local   all             all                                     trust

# IPv4 local connections:
host    all             all             127.0.0.1/32            scram-sha-256

# IPv6 local connections:
host    all             all             ::1/128                 scram-sha-256

# Conexiones desde la red de Docker (ajusta según tu configuración de red)
host    all             all             172.16.0.0/12           md5
host    all             all             192.168.0.0/16          md5
host    all             all             10.0.0.0/8              md5

# Ejemplo para permitir conexiones desde una IP específica
# host    all             all             123.45.67.89/32         md5

# Ejemplo para permitir conexiones desde cualquier IP (¡CUIDADO EN PRODUCCIÓN!)
# host    all             all             all                     md5

# No permitir que el usuario postgres se conecte desde fuera	host    all             postgres        0.0.0.0/0               reject

# Regla para réplicas (opcional)
# host    replication     replicator      IP_REPLICA/32           md5
